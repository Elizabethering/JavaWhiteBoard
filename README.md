# JavaWhiteBoard 协作画板

一个基于 Java 8 和 Swing 开发的、支持实时协作的客户端/服务器架构电子白板应用程序。

## ✨ 项目简介

`JavaWhiteBoard` 不仅仅是一个单机画板，它提供两种操作模式：
* **私人模式**: 一个独立的个人画板，供用户自由创作。
* **共享模式**: 一个多用户协作空间，采用**老师-学生**模型进行权限管理，实现实时同步绘图。

该项目采用 C/S (Client/Server) 架构，通过 Java Socket 和对象序列化进行网络通信，并使用 SQLite 数据库进行用户身份验证。

## 🚀 主要功能

* **用户系统**
    * **注册与登录**: 基于 SQLite 数据库的用户账户系统，密码使用 SHA-256 加密存储。
* **双重工作模式**
    * **私人画板**: 离线、独立的绘图空间。
    * **共享会话**: 允许多个用户加入同一个画板进行实时协作。
* **实时协作与权限管理 (共享模式)**
    * **老师/学生角色**: 第一个进入共享会t话的用户自动成为“老师”，后续用户为“学生”。
    * **权限控制**: 学生默认没有绘图权限，必须向老师发送请求。老师会收到弹窗通知，并可选择批准或拒绝。
    * **权限管理**: 老师可以通过在用户列表中右键点击学生姓名，动态地“授予”或“撤销”其绘图权限。
    * **实时用户列表**: 所有在共享会话中的用户（包括老师和学生）都会显示在界面右侧的列表中，并实时更新其授权状态。
    * **同步绘图**: 任何有权限用户的绘图操作（包括绘制、清空画布）都会实时同步给会话中的所有其他用户。
* **丰富的绘图工具**
    * **形状工具**: 支持绘制线条、矩形、圆形、三角形。
    * **文本工具**: 在画布任意位置添加文字。
    * **橡皮擦**: 擦除部分内容。
    * **属性调整**: 自定义画笔颜色和粗细。
* **画布操作**
    * **清空画布**: 一键清空所有内容。
    * **保存与加载**: 可将当前画布的所有绘图步骤序列化到本地文件，并能随时加载，方便复现和分享。

## 🛠️ 技术栈

* **核心语言**: `Java 8`
* **图形界面 (GUI)**: `Java Swing`
* **网络通信**: `Java Sockets` `Object Serialization` 用于 data transfer
* **数据库**: `SQLite` (通过 `sqlite-jdbc` 驱动)
* **构建工具**: `Apache Maven`
* **日志**: `Logback`

## 📦 如何运行

### 环境要求

* `JDK 1.8`
* `Apache Maven`

### 步骤

1.  **克隆仓库**
    ```bash
    git clone [https://github.com/Elizabethering/JavaWhiteBoard.git](https://github.com/Elizabethering/JavaWhiteBoard.git)
    cd JavaWhiteBoard
    ```

2.  **构建项目**
    使用 Maven 打包项目。这会自动下载所有依赖，并根据 `pom.xml` 中的配置生成两个可执行的 `.jar` 文件。
    ```bash
    mvn clean package
    ```
    构建成功后，在 `target/` 目录下会生成 `whiteboard-server.jar` 和 `whiteboard-client.jar`。

3.  **启动服务器**
    首先必须启动服务器。服务器会监听 `9999` 端口，并自动创建 `whiteboard.db` 数据库文件。
    ```bash
    java -jar target/whiteboard-server.jar
    ```

4.  **启动客户端**
    服务器运行后，可以启动一个或多个客户端。
    ```bash
    java -jar target/whiteboard-client.jar
    ```

## 📖 使用指南

1.  **启动应用**: 先启动服务器，再启动客户端。
2.  **登录/注册**: 在客户端弹出的窗口中，注册一个新账号或使用已有账号登录。
3.  **选择模式**: 登录成功后，选择进入“私人画板”或“共享会话”。
4.  **开始绘图**:
    * **在私人模式下**: 您拥有所有权限，可以直接开始绘图。
    * **在共享模式下**:
        * 如果您是第一个加入者（**老师**），您拥有所有权限。
        * 如果您是后续加入者（**学生**），您的绘图功能默认是禁用的。您需要点击工具栏上的“申请绘图权限”按钮。
        * 老师会收到一个弹窗请求，批准后，您的权限状态会自动更新，然后即可开始绘图。
        * 老师可以随时通过右键点击右侧用户列表中的学生姓名来管理其权限。

## 🤝 贡献

欢迎对本项目进行贡献！如果您有任何好的想法或建议，请随时提交 `Pull Request` 或开启一个 `Issue`。

## 📄 许可证

本项目采用 [MIT](https://opensource.org/licenses/MIT) 许可证。
